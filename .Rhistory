rm(list=ls(all=TRUE))
library(XML)
library(bitops)
library(RCurl)
library(httr)
alldata = data.frame()
startYear = 2015
endYear = 2016
tempY = startYear:endYear
orgURL1 = 'http://www.gck99.com.tw/gold1.php?yy='
orgURL2 = '&mm='
for (y in tempY) {
orgURL <- paste(orgURL1, i, orgURL2)
}
rm(list=ls(all=TRUE))
library(XML)
library(bitops)
library(RCurl)
library(httr)
alldata = data.frame()
startYear = 2015
endYear = 2016
tempY = startYear:endYear
orgURL1 = 'http://www.gck99.com.tw/gold1.php?yy='
orgURL2 = '&mm='
for (y in tempY) {
orgURL <- paste(orgURL1, y, orgURL2)
}
rm(list=ls(all=TRUE))
library(XML)
library(bitops)
library(RCurl)
library(httr)
alldata = data.frame()
startYear = 2015
endYear = 2016
tempY = startYear:endYear
orgURL1 = 'http://www.gck99.com.tw/gold1.php?yy='
orgURL2 = '&mm='
for (y in tempY) {
orgURL <- paste(orgURL1, y, orgURL2, sep = "")
}
rm(list=ls(all=TRUE))
library(XML)
library(bitops)
library(RCurl)
library(httr)
alldata = data.frame()
rm(list=ls(all=TRUE))
library(XML)
install.packages("XML")
install.packages("httr")
library(XML)
library(bitops)
install.packages("bitops")
install.packages("RCurl")
rm(list=ls(all=TRUE))
library(XML)
library(bitops)
library(RCurl)
library(httr)
alldata = data.frame()
startYear = 2015
endYear = 2016
tempY = startYear:endYear
orgURL1 = 'http://www.gck99.com.tw/gold1.php?yy='
orgURL2 = '&mm='
for (y in tempY)
{
orgURL <- paste(orgURL1, y, orgURL2, sep = "")
#orgURL = 'http://www.gck99.com.tw/gold1.php?yy=2015&mm='
startPage = 1
endPage = 12
temp = startPage:endPage
strid = sprintf("%02d", temp)
for( i in startPage:endPage)
{
goldURL <- paste(orgURL, strid[i], sep='')
urlExists = url.exists(goldURL)
if(urlExists)
{
html = getURL(goldURL, ssl.verifypeer = FALSE)
xml = htmlParse(html, encoding ='utf-8')
datetemp = xpathSApply(xml, "//tr[@class='main_1']//td[1]", xmlValue)
date = substr(datetemp,1,10)
price = xpathSApply(xml, "//tr[@class='main_1']//td[2]", xmlValue)
tempdata = data.frame(date, price)
}
alldata = rbind(alldata, tempdata)
}
}
goldURL
source('E:/Coding/GitHub/GoldPrice/GoldPrice.R', echo=TRUE)
source('E:/Coding/GitHub/GoldPrice/GoldPrice.R', echo=TRUE)
source('E:/Coding/GitHub/GoldPrice/GoldPrice.R', echo=TRUE)
source('E:/Coding/GitHub/GoldPrice/GoldPrice.R', echo=TRUE)
rm(list=ls(all=TRUE))
library(XML)
library(bitops)
library(RCurl)
library(httr)
alldata = data.frame()
startYear = 2015
endYear = 2016
tempY = startYear:endYear
orgURL1 = 'http://www.gck99.com.tw/gold1.php?yy='
orgURL2 = '&mm='
for (y in tempY)
{
orgURL <- paste(orgURL1, y, orgURL2, sep = "")
#orgURL = 'http://www.gck99.com.tw/gold1.php?yy=2015&mm='
startPage = 1
endPage = 12
temp = startPage:endPage
strid = sprintf("%02d", temp)
for( i in startPage:endPage)
{
goldURL <- paste(orgURL, strid[i], sep='')
urlExists = url.exists(goldURL)
if(urlExists)
{
html = getURL(goldURL, ssl.verifypeer = FALSE)
xml = htmlParse(html, encoding ='utf-8')
datetemp = xpathSApply(xml, "//tr[@class='main_1']//td[1]", xmlValue)
date = substr(datetemp,1,10)
price = xpathSApply(xml, "//tr[@class='main_1']//td[2]", xmlValue)
tempdata = data.frame(date, price)
}
alldata = rbind(alldata, tempdata)
}
}
write.csv(alldata,"goldPrice.csv")
rm(list=ls(all=TRUE))
library(XML)
library(bitops)
library(RCurl)
library(httr)
orgURL1 = 'http://www.cbc.gov.tw/lp.asp?CtNode=645&CtUnit=308&BaseDSD=32&mp=1&nowPage='
orgURL2 = '&pagesize=50'
startPage = 1
endPage = 8
alldata = data.frame()
temp = startPage:endPage
for( i in startPage:endPage)
{
usdURL <- paste(orgURL1, i, orgURL2, sep='')
urlExists = url.exists(usdURL)
}
usdURL
rm(list=ls(all=TRUE))
library(XML)
library(bitops)
library(RCurl)
library(httr)
orgURL1 = 'http://www.cbc.gov.tw/lp.asp?CtNode=645&CtUnit=308&BaseDSD=32&mp=1&nowPage='
orgURL2 = '&pagesize=50'
startPage = 1
endPage = 8
alldata = data.frame()
temp = startPage:endPage
for( i in startPage:endPage)
{
usdURL <- paste(orgURL1, i, orgURL2, sep='')
urlExists = url.exists(usdURL)
if(urlExists)
{
html = getURL(usdURL, ssl.verifypeer = FALSE)
xml = htmlParse(html, encoding ='utf-8')
datetemp = xpathSApply(xml, "//td[1]", xmlValue)
date = datetemp[-1]
usdtemp = xpathSApply(xml, "//td[2]", xmlValue)
usd = usdtemp[-1]
tempdata = data.frame(date, usd)
}
alldata = rbind(alldata, tempdata)
}
write.csv(alldata,"usd.csv")
rm(list=ls(all=TRUE))
library(XML)
library(bitops)
library(RCurl)
library(httr)
orgURL1 = 'http://www.cbc.gov.tw/lp.asp?CtNode=645&CtUnit=308&BaseDSD=32&mp=1&nowPage='
orgURL2 = '&pagesize=50'
startPage = 1
endPage = 8
alldata = data.frame()
temp = startPage:endPage
for( i in startPage:endPage)
{
usdURL <- paste(orgURL1, i, orgURL2, sep='')
urlExists = url.exists(usdURL)
if(urlExists)
{
html = getURL(usdURL, ssl.verifypeer = FALSE)
xml = htmlParse(html, encoding ='utf-8')
datetemp = xpathSApply(xml, "//td[1]", xmlValue)
date = datetemp[-1]
usdtemp = xpathSApply(xml, "//td[2]", xmlValue)
usd = usdtemp[-1]
tempdata = data.frame(date, usd)
}
alldata = rbind(alldata, tempdata)
}
write.csv(alldata,"USDollar.csv")
